{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "service_app_config_schema",
  "description": "LoLa benchmarking client app configuration.",
  "type": "object",
  "required": [
    "number_of_clients",
    "read_cycle_time_ms",
    "max_num_samples",
    "number_of_samples_to_receive"
  ],
  "properties": {
    "number_of_clients": {
      "description": "Number of concurrent event consumption activities, which this client app will spawn in multiple threads. Taken over from joined_benchmark_config common-section.",
      "type": "integer",
      "minimum": 1,
      "maximum": 20
    },
    "read_cycle_time_ms": {
      "description": "Time between sample reads (polling) in milliseconds. A value of 0 means, that the client installs a receive-handler and reads 'event-based'. Taken over from joined_benchmark_config 'client_config'-section.",
      "type": "integer",
      "enum": [
        0,
        40,
        80,
        1000
      ]
    },
    "max_num_samples": {
      "description": "Has to be tuned to numberOfSampleSlots from mw_com_config. Too low value will drop samples, and a too high value might cause the client to not get a subscription. Calculated by config_generator.py from joined_benchmark_config service_config.send_cycle_time_ms and client_config.read_cycle_time_ms ",
      "type": "integer",
      "minimum": 1
    },
    "service_finder_mode": {
      "description": "Configures the client app to find the service in either POLLING or ASYNC mode. Currently ASYNC mode is not implemented. Taken over from joined_benchmark_config client_config-section.",
      "type": "string",
      "enum": [
        "POLLING",
        "ASYNC"
      ]
    },
    "number_of_samples_to_receive": {
      "description": "Total number of samples that each of the spawned clients will try to acquire via GetNewSamples(). After this the client will unsubscribe and shut down. Taken over from joined_benchmark_config client_config-section.",
      "type": "integer",
      "minimum": 1
    }
  }
}
